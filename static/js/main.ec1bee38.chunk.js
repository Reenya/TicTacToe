(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(7),c=a.n(l),i=a(1),o=a(2),s=a(4),d=a(3),u=a(5),f=(a(15),a(8)),m=(a(16),function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).generateKey=function(){return Math.floor(1e6*Math.random())},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this,t=this.props.field;if(null===t)return null;var a=t.map(function(t,a){return r.a.createElement("tr",{className:"game-field_row",key:e.generateKey()},t.map(function(t,n){return r.a.createElement(p,{cellData:t,playerMove:e.props.playerMove,coords:{rowIndex:a,cellIndex:n},key:e.generateKey()})}))});return r.a.createElement("table",{className:"game-field col-lg-9  col-md-12"},r.a.createElement("tbody",null,a))}}]),t}(r.a.Component)),p=function(e){var t=e.cellData,a=e.playerMove,n=e.coords;return r.a.createElement("td",{className:"game-field__cell",onClick:function(){return a(n)}},t)},h=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(l)))).state={field:null,fieldRender:[],fieldSize:12},a.createGameField=function(){for(var e=a.state.fieldSize,t=[],n=0;n<e+2;n++){t[n]=[];for(var r=0;r<e+2;r++)t[n].push(new b(n,r))}for(var l=0;l<e+2;l++)t[0][l]=new v,t[l][0]=new v,t[e+1][l]=new v,t[l][e+1]=new v;return a.setState({field:t}),a.fieldRender(),t},a.playerMove=function(e){var t=e.rowIndex,n=e.cellIndex,r=Object(f.a)(a.state.field);r[t+1][n+1]=new y("player",n+1,t+1),a.setState({field:r});for(var l=0;l<4;l++)a.calculateNextMove();a.pcMove()},a.calculateNextMove=function(){for(var e=a.state,t=e.fieldSize,n=e.field,r=1;r<t+1;r++)for(var l=1;l<t+1;l++){var c=n[r][l];a.isItStep(c)&&a.searchPotencialIntersections(c)}},a.isItStep=function(e){return"emptyCell"!==e.type},a.isItBorder=function(e){return"border"===e.type},a.searchPotencialIntersections=function(e){a.state.field;a.getArrayNearCells(e).forEach(function(t,n){a.isItStep(t)&&a.isHaveSameType(e,t)&&a.recalculationPotencialRelatedCells(e,t,n)})},a.recalculationPotencialRelatedCells=function(e,t,a){var n=[4,5,6,7,0,1,2,3];e.stepPotential[a];t.stepPotential[a]+=e.stepPotential[a],e.stepPotential[n[a]]+=t.stepPotential[n[a]],e.stepPotential[a]=0,t.stepPotential[n[a]]=0},a.isHaveSameType=function(e,t){return e.type===t.type||"border"===t.type},a.getArrayNearCells=function(e){var t=a.state.field;return[t[e.y-1][e.x],t[e.y-1][e.x+1],t[e.y][e.x+1],t[e.y+1][e.x+1],t[e.y+1][e.x],t[e.y+1][e.x-1],t[e.y][e.x-1],t[e.y-1][e.x-1]]},a.pcMove=function(){var e=a.state.field,t=a.calculateCellPotential("player"),n=e.slice();e[t.y][t.x]=new y("pc",t.x,t.y),console.log(n),a.setState({})},a.calculateCellPotential=function(e){for(var t=a.state,n=t.fieldSize,r=t.field,l=[],c=0;c<n+2;c++){l[c]=[];for(var i=0;i<n+2;i++)l[c].push(0)}for(var o=1;o<n+1;o++)for(var s=function(t){var n=r[o][t];a.isItStep(n)&&n.type===e&&a.getArrayNearCells(n).forEach(function(e,t){if(!a.isItStep(e)&&!a.isItBorder(e)){var r=a.getArrayNearCells(e)[t],c=n.stepPotential[t],i=0;a.isItStep(r)&&!a.isItBorder(r)&&(i=r.stepPotential[[4,5,6,7,0,1,2,3][t]]),l[e.y][e.x]=Math.max(l[e.y][e.x],c+i)}})},d=1;d<n+1;d++)s(d);return a.findMax(l)},a.findMax=function(e){a.state.fieldSize;var t=0,n={};return e.forEach(function(e,a){return e.forEach(function(e,r){e>t&&(t=e,n={y:a,x:r})})}),console.log(t,n),n},a.fieldRender=function(){var e=a.state,t=e.field,n=(e.fieldRender,e.fieldSize);if(!t)return[];for(var l=[],c=1;c<n+1;c++){l[c-1]=[];for(var i=1;i<n+1;i++){var o=t[c][i];a.isItStep(o)?"player"===o.type?l[c-1].push(r.a.createElement("i",{className:"fa fa-times"})):l[c-1].push(r.a.createElement("i",{className:"fa fa-circle-o"})):l[c-1].push(" ")}}return l},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.createGameField()}},{key:"findSumPotintialNearCells",value:function(e){}},{key:"render",value:function(){return r.a.createElement(m,{field:this.fieldRender(),playerMove:this.playerMove})}}]),t}(r.a.Component),y=function e(t,a,n){Object(i.a)(this,e),this.stepPotential=[1,1,1,1,1,1,1,1],this.type=null,this.x=null,this.y=null,this.type=t,this.x=a,this.y=n},v=function e(){Object(i.a)(this,e),this.type="border",this.stepPotential=[-1,-1,-1,-1,-1,-1,-1,-1]},b=function e(t,a){Object(i.a)(this,e),this.type="emptyCell",this.x=null,this.y=null,this.y=t,this.x=a},x=(a(17),function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"col-lg-3  col-md-12"},r.a.createElement("div",{className:"card text-white bg-info mb-3 "},r.a.createElement("div",{className:"card-header"},"Header"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},"Info card title"),r.a.createElement("p",{className:"card-text"},"Some quick example text to build on the card title and make up the bulk of the card's content."))),r.a.createElement("div",{className:"card text-white bg-info mb-3 "},r.a.createElement("div",{className:"card-header"},"Header"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},"Info card title"),r.a.createElement("p",{className:"card-text"},"Some quick example text to build on the card title and make up the bulk of the card's content."))),r.a.createElement("div",{className:"card text-white bg-info mb-3 "},r.a.createElement("div",{className:"card-header"},"Header"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},"Info card title"),r.a.createElement("p",{className:"card-text"},"Some quick example text to build on the card title and make up the bulk of the card's content."))),r.a.createElement("div",{className:"card text-white bg-info mb-3 "},r.a.createElement("div",{className:"card-header"},"Header"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},"Info card title"),r.a.createElement("p",{className:"card-text"},"Some quick example text to build on the card title and make up the bulk of the card's content.")))))}}]),t}(r.a.Component)),E=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title"},"TicTacToy"),r.a.createElement("div",{className:"row"},r.a.createElement(h,null),r.a.createElement(x,null)))}}]),t}(r.a.Component);c.a.render(r.a.createElement(E,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.ec1bee38.chunk.js.map